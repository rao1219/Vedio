{
  "name": "aglio",
  "version": "2.0.2",
  "description": "An API Blueprint renderer with theme support",
  "main": "lib/main.js",
  "bin": {
    "aglio": "./bin/aglio.js"
  },
  "scripts": {
    "test": "grunt test",
    "prepublish": "grunt compile"
  },
  "author": {
    "name": "Daniel G. Taylor"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/danielgtaylor/aglio.git"
  },
  "bugs": {
    "url": "https://github.com/danielgtaylor/aglio/issues"
  },
  "keywords": [
    "api",
    "blueprint",
    "protagonist",
    "snowcrash",
    "html",
    "parse",
    "markdown"
  ],
  "dependencies": {
    "aglio-theme-olio": "^1.0.4",
    "chokidar": "^1.0.1",
    "cli-color": "^1.0.0",
    "drafter": "^0.2.7",
    "pretty-error": "^1.1.2",
    "serve-static": "^1.9.3",
    "socket.io": "^1.3.5",
    "yargs": "^3.0.2"
  },
  "devDependencies": {
    "async": "^1.0.0",
    "coffeelint": "^1.5.6",
    "grunt": "~0.4.1",
    "grunt-coffeelint": "0.0.13",
    "grunt-contrib-coffee": "^0.13.0",
    "grunt-mocha-cov": "^0.4.0",
    "sinon": "^1.10.3"
  },
  "readme": "![aglio](https://raw.github.com/danielgtaylor/aglio/master/images/aglio.png)\n\n[![Dependency Status](http://img.shields.io/david/danielgtaylor/aglio.svg?style=flat)](https://david-dm.org/danielgtaylor/aglio) [![Build Status](http://img.shields.io/travis/danielgtaylor/aglio/master.svg?style=flat)](https://travis-ci.org/danielgtaylor/aglio) [![Coverage Status](http://img.shields.io/coveralls/danielgtaylor/aglio.svg?style=flat)](https://coveralls.io/r/danielgtaylor/aglio) [![NPM version](http://img.shields.io/npm/v/aglio.svg?style=flat)](https://www.npmjs.org/package/aglio) [![License](http://img.shields.io/npm/l/aglio.svg?style=flat)](https://www.npmjs.org/package/aglio) [![Gitter](https://img.shields.io/badge/gitter-chat-orange.svg)](https://gitter.im/danielgtaylor/aglio?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge)\n\n# Introduction\n\nAn [API Blueprint](http://apiblueprint.org/) renderer that supports multiple themes and outputs static HTML that can be served by any web host. API Blueprint is a Markdown-based document format that lets you write API descriptions and documentation in a simple and straightforward way. Currently supported is [API Blueprint format 1A](https://github.com/apiaryio/api-blueprint/blob/master/API%20Blueprint%20Specification.md).\n\n## Features\n\n * Fast parsing thanks to [Drafter](https://github.com/apiaryio/drafter.js)\n * Asyncronous processing\n * Multiple templates/themes\n * Support for custom colors, templates, and theme engines\n * Include other documents in your blueprint\n * Commandline executable `aglio -i service.apib -o api.html`\n * Live-reloading preview server `aglio -i service.apib --server`\n * Node.js library `require('aglio')`\n * Excellent test coverage\n * Tested on [BrowserStack](https://www.browserstack.com/)\n\n## Example Output\nExample output is generated from the [example API Blueprint](https://raw.github.com/danielgtaylor/aglio/master/example.apib) using the default [Olio theme](https://github.com/danielgtaylor/aglio/tree/olio-theme#readme).\n\n * [Default theme](http://htmlpreview.github.io/?https://raw.githubusercontent.com/danielgtaylor/aglio/blob/master/examples/default.html)\n * [Flatly theme](http://htmlpreview.github.io/?https://raw.githubusercontent.com/danielgtaylor/aglio/blob/master/examples/flatly.html)\n * [Slate theme](http://htmlpreview.github.io/?https://raw.githubusercontent.com/danielgtaylor/aglio/blob/master/examples/slate.html)\n * [Cyborg theme](http://htmlpreview.github.io/?https://raw.githubusercontent.com/danielgtaylor/aglio/blob/master/examples/cyborg.html)\n\n## Including Files\nIt is possible to include other files in your blueprint by using a special include directive with a path to the included file relative to the current file's directory. Included files can be written in API Blueprint, Markdown or HTML (or JSON for response examples). Included files can include other files, so be careful of circular references.\n\n```markdown\n<!-- include(filename.md) -->\n```\n\nFor tools that do not support this include directive it will just render out as an HTML comment. API Blueprint may support its own mechanism of including files in the future, and this syntax was chosen to not interfere with the [external documents proposal](https://github.com/apiaryio/api-blueprint/issues/20) while allowing `aglio` users to include documents today.\n\n\n# Installation & Usage\nThere are two ways to use aglio: as an executable or as a library for Node.js.\n\n## Executable\nInstall aglio via NPM. You need Node.js installed and you may need to use `sudo` to install globally:\n\n```bash\nnpm install -g aglio\n```\n\nThen, start generating HTML.\n\n```bash\n# Default theme\naglio -i input.apib -o output.html\n\n# Built-in color scheme\naglio --theme-variables slate -i input.apib -o output.html\n\n# Custom layout template\naglio --theme-template /path/to/template.jade -i input.apib -o output.html\n\n# Custom theme engine\naglio -t my-engine -i input.apib -o output.html\n\n# Run a live preview server on http://localhost:3000/\naglio -i input.apib -s\n\n# Print output to terminal (useful for piping)\naglio -i input.apib -o -\n\n# Disable condensing navigation links\naglio --no-theme-condense -i input.apib -o output.html\n\n# Render full-width page instead of fixed max width\naglio --theme-full-width -i input.apib -o output.html\n\n# Output verbose error information with stack traces\naglio -i input.apib -o output.html --verbose\n```\n\n## Node.js Library\nYou can also use aglio as a library. First, install and save it as a dependency:\n\n```bash\nnpm install --save aglio\n```\n\nThen, convert some API Blueprint to HTML:\n\n```javascript\nvar aglio = require('aglio');\n\n// Render a blueprint with a template by name\nvar blueprint = '# Some API Blueprint string';\nvar options = {\n  themeVariables: 'default'\n};\n\naglio.render(blueprint, options, function (err, html, warnings) {\n    if (err) return console.log(err);\n    if (warnings) console.log(warnings);\n\n    console.log(html);\n});\n\n// Render a blueprint with a custom template file\noptions = {\n  themeTemplate: '/path/to/my-template.jade'\n};\naglio.render(blueprint, options, function (err, html, warnings) {\n    if (err) return console.log(err);\n    if (warnings) console.log(warnings);\n\n    console.log(html);\n});\n\n\n// Pass custom locals along to the template, for example\n// the following gives templates access to lodash and async\noptions = {\n    themeTemplate: '/path/to/my-template.jade',\n    locals: {\n        _: require('lodash'),\n        async: require('async')\n    }\n};\naglio.render(blueprint, options, function (err, html, warnings) {\n   if (err) return console.log(err);\n   if (warnings) console.log(warnings);\n\n   console.log(html);\n});\n```\n\n### Reference\nThe following methods are available from the `aglio` library:\n\n#### aglio.collectPathsSync (blueprint, includePath)\nGet a list of paths that are included in the blueprint. This list can be watched for changes to do things like live reload. The blueprint's own path is not included.\n\n```javascript\nvar blueprint = '# GET /foo\\n<-- include(example.json -->\\n';\nvar watchPaths = aglio.collectPathsSync(blueprint, process.cwd())\n```\n\n#### aglio.render (blueprint, options, callback)\nRender an API Blueprint string and pass the generated HTML to the callback. The `options` can either be an object of options or a simple layout name or file path string. Available options are:\n\n| Option      | Type   | Default       | Description                           |\n| ----------- | ------ | ------------- | ------------------------------------- |\n| filterInput | bool   | `true`        | Filter `\\r` and `\\t` from the input   |\n| includePath | string | process.cwd() | Base directory for relative includes  |\n| locals      | object | `{}`          | Extra locals to pass to templates     |\n| theme       | string | `'default'`   | Theme name to load for rendering      |\n\nIn addition, the [default theme](https://github.com/danielgtaylor/aglio/tree/olio-theme) provides the following options:\n\n| Option           | Type   | Default   | Description                                  |\n| ---------------- | ------ | --------- | -------------------------------------------- |\n| themeVariables   | string | `default` | Built-in color scheme or path to LESS or CSS |\n| themeCondenseNav | bool   | `true`    | Condense single-action navigation links      |\n| themeFullWidth   | bool   | `false`   | Use the full page width                      |\n| themeTemplate    | string |           | Layout name or path to custom layout file    |\n| themeStyle       | string | `default` | Built-in style name or path to LESS or CSS   |\n\n\n```javascript\nvar blueprint = '...';\nvar options = {\n    themeTemplate: 'default',\n    locals: {\n        myVariable: 125\n    }\n};\n\nalio.render(blueprint, options, function (err, html, warnings) {\n    if (err) return console.log(err);\n\n    console.log(html);\n});\n```\n\n#### aglio.renderFile (inputFile, outputFile, options, callback)\nRender an API Blueprint file and save the HTML to another file. The input/output file arguments are file paths. The options behaves the same as above for `aglio.render`.\n\n```javascript\naglio.renderFile('/tmp/input.apib', '/tmp/output.html', options, function (err, warnings) {\n    if (err) return console.log(err);\n    if (warnings) console.log(warnings);\n});\n```\n\n# Development\nPull requests are encouraged! Feel free to fork and hack away, especially on new themes. The build system in use is Grunt, so make sure you have it installed:\n\n```bash\nnpm install -g grunt-cli\n```\n\nThen you can build the source and run the tests:\n\n```bash\n# Lint/compile the Coffeescript\ngrunt\n\n# Run the test suite\ngrunt test\n\n# Generate an HTML test coverage report\ngrunt coverage\n\n# Render examples\ngrunt examples\n```\n\n## Customizing Output\nAglio is split into two components: a base that contains logic for loading API Blueprint, handling commandline arguments, etc and a theme engine that handles turning the API Blueprint AST into HTML. The default theme engine that ships with Aglio is called [olio](https://github.com/danielgtaylor/aglio/tree/olio-theme). Templates are written in Jade, with support for inline Coffeescript, LESS and Stylus via filters. The default stylesheets are written in LESS.\n\n### Custom Colors & Style\nAglio's default theme provides a way to easily override colors, fonts, padding, etc to match your company's style. This is done by providing your own LESS or CSS file(s) via the `--theme-variables` and `--theme-style` options. For example:\n\n```bash\n# Use my custom colors\naglio --theme-variables /path/to/my-colors.less -i input.apib -o output.html\n```\n\nThe `my-variables.less` file might contain a custom HTTP PUT color specification:\n\n```less\n/* HTTP PUT */\n@put-color: #f0ad4e;\n@put-background-color: #fcf8e3;\n@put-text-color: contrast(@put-background-color);\n@put-border-color: darken(spin(@put-background-color, -10), 5%);\n```\n\nSee the [default variables](https://github.com/danielgtaylor/aglio/blob/olio-theme/styles/variables-default.less) file for examples of which variables can be set.\n\nThe `--theme-style` option lets you override built-in styles with your own LESS or CSS definitions. It is processed **after** the colors have been defined, so the colors are available for your use. If you wish to modify a rule from an existing built-in style then you must copy the style. The order of loading roughly follows:\n\n1. Default colors\n2. Built-in **or** user-supplied colors\n3. Built-in **or** user-supplied style\n\n#### Built-in Colors\n\n* `cyborg`\n* `default`\n* `flatly`\n* `slate`\n\n#### Built-in Styles\n\n* `default`\n\n### Customizing Layout Templates\nThe `--theme-template` option allows you to provide a custom layout template that overrides the default. This is specified in the form of a [Jade](http://jade-lang.com/) template file. See the [default template](https://github.com/danielgtaylor/aglio/blob/olio-theme/templates/index.jade) file for an example.\n\nThe locals available to templates look like the following:\n\n| Name        | Description                                              |\n| ----------- | -------------------------------------------------------- |\n| api         | The API Blueprint AST from Protagonist                   |\n| condenseNav | If true, you should condense the nav if possible         |\n| date        | Date and time handling from Moment.js                    |\n| fullWidth   | If true, you should consume the entire page width        |\n| highlight   | A function (`code`, `lang`) to highlight a piece of code |\n| markdown    | A function to convert Markdown strings to HTML           |\n| slug        | A function to convert a string to a slug usable as an ID |\n| hash        | A function to return an hash (currently MD5)             |\n\n#### Built-in Layout Templates\n\n* `default`\n\n### Using Custom Themes\nWhile Aglio ships with a default theme, you have the option of installing and using third-party theme engines. They may use any technology and are not limited to Jade and LESS. Consult the theme's documentation to see which options are available and how to use and customize the theme. Common usage between all themes:\n\n```bash\n# Install a custom theme engine globally\nnpm install -g aglio-theme-<NAME>\n\n# Render using a custom theme engine\naglio -t <NAME> -i input.apib -o output.html\n\n# Get a list of all options for a theme\naglio -t <NAME> --help\n```\n\n### Writing a Theme Engine\nTheme engines are simply Node.js modules that provide two public functions and follow a specific naming scheme (`aglio-theme-NAME`). Because they are their own npm package they can use whatever technologies the theme engine author wishes. The only hard requirement is to provide these two public functions:\n\n#### `getConfig()`\nReturns configuration information about the theme, such as the API Blueprint format that is supported and any options the theme provides.\n\n#### `render(input, options, done)`\nRender the given input API Blueprint AST with the given options. Calls `done(err, html)` when finished, either passing an error or the rendered HTML output as a string.\n\n#### Example Theme\nThe following is a very simple example theme. **Note**: it only returns a very simple string instead of rending out the API Blueprint AST. Normally you would invoke a template engine and output the resulting HTML that is generated.\n\n```javascript\n// Get the theme's configuration options\nexports.getConfig = function () {\n  return {\n    // This is a list of all supported API Blueprint format versions\n    formats: ['1A'],\n    // This is a list of all options your theme accepts. See\n    // here for more: https://github.com/bcoe/yargs#readme\n    // Note: These get prefixed with `theme` when you access\n    // them in the options object later!\n    options: [\n      {\n        name: 'name',\n        description: 'Your name',\n        default: 'world'\n      }\n    ]\n  };\n}\n\n// Asyncronously render out a string\nexports.render = function (input, options, done) {\n  // Normally you would use some template engine here.\n  // To keep this code really simple, we just print\n  // out a string and ignore the API Blueprint.\n  done(null, 'Hello, ' + options.themeName + '!');\n};\n\n```\n\nExample use:\n\n```bash\n# Install the theme globally\nnpm install -g aglio-theme-hello\n\n# Render some output!\naglio -t hello -i example.apib -o -\n=> 'Hello, world!'\n\n# Pass in the custom theme option!\naglio -t hello --theme-name Daniel -i example.apib -o -\n=> 'Hello, Daniel!'\n```\n\nYou are free to use whatever template system (Jade, EJS, Nunjucks, etc) and any supporting libraries (e.g. for CSS) you like.\n\nLicense\n=======\nCopyright (c) 2015 Daniel G. Taylor\n\nhttp://dgt.mit-license.org/\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/danielgtaylor/aglio#readme",
  "_id": "aglio@2.0.2",
  "_from": "aglio@>=2.0.0 <3.0.0"
}
