// Generated by CoffeeScript 1.7.1
var async, detectSuccessful;

async = require('async');

detectSuccessful = function(arr, fn, cb) {
  var error, result;
  error = null;
  result = null;
  return async.detectSeries(arr, function(item, next) {
    return fn(item, function(err, res) {
      var _ref;
      _ref = err ? [err, null] : [null, res], error = _ref[0], result = _ref[1];
      return next(!err);
    });
  }, function() {
    return cb(error, result);
  });
};

module.exports = {
  detectSuccessful: detectSuccessful
};
